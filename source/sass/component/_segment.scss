.c-segment {
    display: flex;
    flex-wrap: wrap;
    position: relative; 
    background-size: cover;

    * {
        position: relative;
        z-index: $level-1;
    }

    .c-segment__slot {
        order: 3;
        justify-content: center;

        > .o-grid {
            justify-content: center;
        }
    }

    .c-segment__image {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
        overflow: hidden;
    }
}

/**
* Modifiers
*/
.c-segment.c-segment--stretch { /* Bleed outside container  left&right */ 
    position: relative;
    width: 100vw; 
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
}

.c-segment.c-segment--text {
    &-light .c-segment__title,
    &-light .c-segment__text {
        color: white;
    }

    &-dark .c-segment__title,
    &-dark .c-segment__text {
        color: black;
    }
}

.c-segment.c-segment--text {
    &-large .c-segment__content {
        @include mq(map_get($breakpoints-map, "md")) {
            font-size: 1.2em; 
        }
    }
}

.c-segment.c-segment--height {
    &-full-screen {
        min-height: 100vh;
    }
}

.c-segment.c-segment--overlay {
    &-dark .c-segment__image {
        filter: brightness(.5);
        opacity: .85;
    }

    &-light .c-segment__image {
        filter: brightness(.78);
        opacity: .85;
    }
}

.c-segment.c-segment--alignment {
    &-top .c-segment__content,
    &-top .c-segment__slot {
        align-self: start;
    }

    &-center .c-segment__content,
    &-center .c-segment__slot {
        align-self: center;
    }

    &-bottom .c-segment__content,
    &-bottom .c-segment__slot {
        align-self: end;
    }
}

/**
* Layout split
*/
.c-segment.c-segment--split {
    flex-direction: row;

    .c-segment__padder {
        max-width: calc( #{$base} * 50);
        margin: auto; 
        padding-top: #{map-get($spacers, "4")};
        padding-bottom: #{map-get($spacers, "4")};
    }

    .c-segment__image {
        height: auto;
    }

    .c-segment__slot {
        margin-top: #{map-get($spacers, "4")};

        @include mq(map_get($breakpoints-map, "md")) {
            margin-top: #{map-get($spacers, "6")};
        }
    }

    @include mq(map_get($breakpoints-map, "lg")) {
        .c-segment__image,
        .c-segment__content {
            max-width: 50%;
        }

        .c-segment__image {
            order: 2;
        }

        &.c-segment--reverse > {
            .c-segment__image {
                order: 1;
            }
            
            .c-segment__content {
                order: 2;
            }
        }
    }
}

/**
* Layout full width
*/
.c-segment.c-segment--full-width {
    flex-direction: column;
    gap: #{map-get($spacers, "8")};
    padding: map-get($spacers, "8") 0;

    .c-segment__image {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        z-index: calc(#{$level-1} - 1);
    }
}