@use "../mixin/list";
@use "../setting/var_colors";
@use "../setting/var_default";
@use "button";

/**
Products component SCSS
*/

$c-product-custom-color: var(--c-product-custom-color, #83A293);

.c-product {
    &, .c-card {
        height: 100%;
    }
    
    .c-card__footer {
        text-align: center;
        border: none;
    }

    .c-button__filled--custom, .c-card__image--custom {
        background-color: $c-product-custom-color;
        color: button.$c-button-primary-color-contrasting;
    }

    .c-product__footer {
        .c-product__prices {
            display: flex;
            flex-direction: column;
            visibility: visible;
            margin-bottom: calc(var_default.$base * 10);

            &.has-button {
                margin-bottom: calc(var_default.$base * 4);
            }
        }
    }
}

.c-product__header {
    text-align: center;
}

.c-product--featured {
    margin: calc(#{var_default.$base} * -2);
}

.c-product__price {
    display: inline-block;

    &--primary {
        color: var_colors.$color-primary;
    }
    &--secondary {
        color: var_colors.$color-secondary;
    }
    &--custom {
        color: $c-product-custom-color;
    }
}

.c-product__label {
    padding-bottom: calc(#{var_default.$base} * 4);
}

.c-product__frequency {
    color: var_colors.$color-black;
}

.c-product__image-container {
    position: relative;
    height: calc(#{var_default.$base} * 14);
    margin-bottom: calc(#{var_default.$base} * 3);
}

.c-product__image {
    position: absolute;
    left: 50%;
    transform: translate(-50%, 25%);
    border-radius: 50%;
    border: calc(#{var_default.$base} * 0.25) solid white;
    height: calc(#{var_default.$base} * 14);
    width: calc(#{var_default.$base} * 14);
    aspect-ratio: 1 / 1;

    &--primary {
        background-color: var_colors.$color-primary;
    }
    &--secondary {
        background-color: var_colors.$color-secondary;
    }
    &--custom {
        background-color: $c-product-custom-color;
    }
}

.c-product__heading {
    position: relative;
    padding-bottom: calc(#{var_default.$base} * 2);

    &::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
    }

    &--primary {
        &::after {
            border: 1px solid var_colors.$color-primary;
        }
    }

    &--secondary {
        &::after {
            border: 1px solid var_colors.$color-secondary;
        }
    }

    &--custom {
        &::after {
            border: 1px solid $c-product-custom-color;
        }
    }
}

.c-product__listing {
    @include list.unlist();
    padding: 0;

    &--primary {
        .c-listing__label::before, .c-listing__label::after {
            color: var_colors.$color-primary;
        }
    }

    &--secondary {
        .c-listing__label::before, .c-listing__label::after {
            color: var_colors.$color-secondary;
        }
    }
    &--custom {
        .c-listing__label::before, .c-listing__label::after {
            color: $c-product-custom-color;
        }
    }

    .c-listing__link, 
    .c-listing__item {
        display: flex;
        align-items: center;
        text-decoration: none;
        .c-icon:first-child {
            color: var_colors.$color-primary;
        }
    }

    .c-listing__link {
        .c-icon:last-child {
            transition: 100ms ease-in-out;
        }
        &:hover .c-icon:last-child {
            padding-left: calc(var_default.$base * .5);
        }
    }

    .c-listing__label {
        display: block;
        color: var_colors.$color-black;
    }
}
